{"info":{"_postman_id":"dd7e6345-f95e-463a-bd5a-f9c0a5ad3fa4","name":"Feature: Patient provides consent to share information","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"Background","item":[{"name":"Given a patient exists in a FHIR server at url \"http://localhost:8080/fhir\"","event":[{"listen":"test","script":{"exec":["pm.test(\" Add test function \", function () {","  // Add test code","});"]},"type":"text/javascript"}],"request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/<add test endpoint>","protocol":"http","host":["{{host}}"],"port":"{{port}}"}},"response":[]},{"name":"And a practitioner exists in a FHIR server at url \"http://localhost:8080/fhir\"","event":[{"listen":"test","script":{"exec":["pm.test(\" Add test function \", function () {","  // Add test code","});"]},"type":"text/javascript"}],"request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/<add test endpoint>","protocol":"http","host":["{{host}}"],"port":"{{port}}"}},"response":[]},{"name":"And associated packages/FHIR assets are available to the FHIR server","event":[{"listen":"test","script":{"exec":["pm.test(\" Add test function \", function () {","  // Add test code","});"]},"type":"text/javascript"}],"request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/<add test endpoint>","protocol":"http","host":["{{host}}"],"port":"{{port}}"}},"response":[]}]},{"name":"Scenario: Consent to share information","item":[{"name":"Test Query","event":[{"listen":"test","script":{"exec":["pm.test(\"Given a patient or their advocate provides consent\", function () {","  // Add test code","});","pm.test(\"When the consent is recorded\", function () {","  // Add test code","});","pm.test(\"Then it will be linked to the patient\", function () {","  // Add test code","});"]},"type":"text/javascript"}],"request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/<add test endpoint>","protocol":"http","host":["{{host}}"],"port":"{{port}}"}},"response":[]}]},{"name":"Scenario: Consent is given and recorded where no consent existed previously","item":[{"name":"Test Query","event":[{"listen":"test","script":{"exec":["pm.test(\"Given a patient or their advocate provides consent\", function () {","  // Add test code","});","pm.test(\"When the consent is recorded\", function () {","  // Add test code","});","pm.test(\"Then it will be created on the FHIR server if it did not previously exist\", function () {","  // Add test code","});","pm.test(\"And the consent status will be set to \"active\"\", function () {","  // Add test code","});"]},"type":"text/javascript"}],"request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/<add test endpoint>","protocol":"http","host":["{{host}}"],"port":"{{port}}"}},"response":[]}]},{"name":"Scenario: Consent is given and recorded where consent was previously revoked","item":[{"name":"Test Query","event":[{"listen":"test","script":{"exec":["pm.test(\"Given a patient or their advocate provides consent\", function () {","  // Add test code","});","pm.test(\"When the consent is recorded\", function () {","  // Add test code","});","pm.test(\"Then the consent statue will be set to \"active\"\", function () {","  // Add test code","});","pm.test(\"And the provision putpose will be set to \"RACONSENT\"\", function () {","  // Add test code","});"]},"type":"text/javascript"}],"request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/<add test endpoint>","protocol":"http","host":["{{host}}"],"port":"{{port}}"}},"response":[]}]},{"name":"Scenario: The Consent category reflects the patient consent is for Reasonable Adjustments","item":[{"name":"Test Query","event":[{"listen":"test","script":{"exec":["pm.test(\"Given a patient or their advocate provides consent\", function () {","  // Add test code","});","pm.test(\"When the consent is recorded\", function () {","  // Add test code","});","pm.test(\"Then the consent category will be set to \"NRAF\"\", function () {","  // Add test code","});"]},"type":"text/javascript"}],"request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/<add test endpoint>","protocol":"http","host":["{{host}}"],"port":"{{port}}"}},"response":[]}]},{"name":"Scenario: The Consent provision purpose reflects consent has been given","item":[{"name":"Test Query","event":[{"listen":"test","script":{"exec":["pm.test(\"Given a patient or their advocate provides consent\", function () {","  // Add test code","});","pm.test(\"When the consent is recorded\", function () {","  // Add test code","});","pm.test(\"Then the provision putpose will be set to \"RACONSENT\"\", function () {","  // Add test code","});"]},"type":"text/javascript"}],"request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/<add test endpoint>","protocol":"http","host":["{{host}}"],"port":"{{port}}"}},"response":[]}]},{"name":"Scenario: The consent is given specifically by the patient","item":[{"name":"Test Query","event":[{"listen":"test","script":{"exec":["pm.test(\"Given a patient provides consent\", function () {","  // Add test code","});","pm.test(\"When the consent is recorded\", function () {","  // Add test code","});","pm.test(\"Then the proxyRule will be set to a code from \"https://fhir.nhs.uk/England/CodeSystem/FlagProxyRole\"\", function () {","  // Add test code","});","pm.test(\"And the proxyRule will be set to the code \"001\"\", function () {","  // Add test code","});"]},"type":"text/javascript"}],"request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/<add test endpoint>","protocol":"http","host":["{{host}}"],"port":"{{port}}"}},"response":[]}]},{"name":"Scenario: The consent is given specifically by the patient advocate","item":[{"name":"Test Query","event":[{"listen":"test","script":{"exec":["pm.test(\"Given a patient advocate provides consent\", function () {","  // Add test code","});","pm.test(\"When the consent is recorded\", function () {","  // Add test code","});","pm.test(\"Then the proxyRule will be set to a code from \"https://fhir.nhs.uk/England/CodeSystem/FlagProxyRole\"\", function () {","  // Add test code","});","pm.test(\"And the proxyRule will NOT be set to the code \"001\"\", function () {","  // Add test code","});"]},"type":"text/javascript"}],"request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/<add test endpoint>","protocol":"http","host":["{{host}}"],"port":"{{port}}"}},"response":[]}]},{"name":"Scenario: Freetext notes are required for the consent on creation","item":[{"name":"Test Query","event":[{"listen":"test","script":{"exec":["pm.test(\"Given a patient or their advocate provides consent\", function () {","  // Add test code","});","pm.test(\"And the practitioner must add notes to the consent\", function () {","  // Add test code","});","pm.test(\"When the consent is recorded\", function () {","  // Add test code","});","pm.test(\"Then notes be recorded along with the consent object\", function () {","  // Add test code","});"]},"type":"text/javascript"}],"request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/<add test endpoint>","protocol":"http","host":["{{host}}"],"port":"{{port}}"}},"response":[]}]},{"name":"Scenario: The details of who obtained the consent will be recorded","item":[{"name":"Test Query","event":[{"listen":"test","script":{"exec":["pm.test(\"Given a patient or their advocate provides consent\", function () {","  // Add test code","});","pm.test(\"When the consent is recorded\", function () {","  // Add test code","});","pm.test(\"Then the details of who obtained the consent will be recorded\", function () {","  // Add test code","});","pm.test(\"And role code will be set to a code from \"https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1\"\", function () {","  // Add test code","});"]},"type":"text/javascript"}],"request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/<add test endpoint>","protocol":"http","host":["{{host}}"],"port":"{{port}}"}},"response":[]}]}]}